# Default plots for the ForestFire model
---
#Plot the mean state
mean_and_std:
  enabled: false

  creator: multiverse
  
  # Use the ForestFire-model-specific plot functions
  module: .state
  plot_func: mean_and_std

  # Collect the data
  select:
    fields:
      mean: data/ForestFire/mean_density

  mean_of: [x, y]
  lines_from: p_lightning

  helpers:
    set_labels:
      x: Time
      y: Tree density
    set_scale:
      y: log



# Plot the cluster size distribution
cluster_distribution:
  creator: universe
  universes: all

  helpers:
    set_title:
      title: Size distribution of clusters
  
  # Use the ForestFire-specific plot functions
  module: model_plots.ForestFire
  plot_func: cluster_distribution

  # Which time index to plot
  time: -1

  plot_kwargs: 
    linestyle: 'None'
    marker: '.'


# Plot the cluster size distribution
cluster_distribution_multiverse:
  creator: multiverse

  #Use True in case of multiverse run (parameter sweep), else false  
  enabled: false
  
  # Use the ForestFire-specific plot functions
  module: model_plots.ForestFire
  plot_func: cluster_distribution_multiverse

  # Which time index to plot
  time: -1

  plot_kwargs: 
    linestyle: 'None'
    linewidth: 0.5
    marker: '.'
    markersize: 3

  select:
    field:
      # Choose the path in the data tree (see terminal output)
      path: data/ForestFire/cluster_id
      dims: [time, x, y]   


state_mean_multiverse:
  creator: multiverse

  #Use True in case of multiverse run (parameter sweep), else false  
  enabled: false

  # Use the ForestFire-specific plot functions
  module: model_plots.ForestFire
  plot_func: state_mean_multiverse

  plot_kwargs: 
    linestyle: 'None'
    linewidth: 0.5
    marker: '.'
    markersize: 2

  select:
    field:
      # Choose the path in the data tree (see terminal output)
      path: data/ForestFire/mean_density
      dims: [time]  


temporal_mean_multiverse:
  creator: multiverse

  #Use True in case of multiverse run (parameter sweep), else false
  enabled: false

  module: model_plots.ForestFire
  plot_func: temporal_mean_multiverse

  plot_kwargs: 
    linestyle: 'None'
    linewidth: 0.5
    marker: 'o'
    markersize: 5
  
  select:
    field:
      # Choose the path in the data tree (see terminal output)
      path: data/ForestFire/mean_density
      dims: [time]    


# Create frames/movies of the cell states
state_map: &state_map
  creator: universe
  universes: all

  file_ext: mp4
  dpi: 96

  module: .ca
  plot_func: state_anim

  # Select the model to read the data from
  model_name: ForestFire

  # Select the properties to plot
  to_plot:
    kind:
      title: State
      limits: [0, 1]
      cmap: 
        Empty: goldenrod
        Tree: green

  # Video options
  writer: ffmpeg  # can be: frames, ffmpeg (if installed), ...
  fps: 15


# Create frames/movies of the clusters
cluster_map:
  # Base the configuration here on that of the state map
  <<: *state_map
  
  # Use a custom pre-processor function
  module: model_plots.ForestFire
  plot_func: state_anim

  # Select the properties to plot
  to_plot:
    cluster_id:
      title: Cluster
      limits: [0, 20]
      cmap: tab20
