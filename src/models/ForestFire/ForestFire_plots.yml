# Default plots for the ForestFire model
---
# --- A plot of the cluster size distribution ---------------------------------
cluster_size_distribution:
  based_on: cluster_size_distribution


# --- The complementary cumulative cluster size distribution ------------------
compl_cum_cluster_size_dist:
  based_on: compl_cum_cluster_size_dist


# --- Tree density ------------------------------------------------------------
# ... Of the single universes .................................................
tree_density:
  based_on: tree_density


# ... Of a sweep over p_lightning and seed ....................................
tree_density_over_p_lightning:
  based_on: tree_density_over_p_lightning
  enabled: false  # Can enable this when sweeping over `p_lightning`

# ... Asymptotic tree density .................................................
tree_density_asymptotic_over_p_lightning:
  based_on: tree_density_asymptotic
  enabled: false  # Can enable this when sweeping over any dimension

  # Specialization for p_lightning
  helpers:
    set_labels:
      y: $p_{lightning}$
    set_scales:
      y: log
    set_limits:
      y: [min, ~]

  # Select the time steps to average over
  average_fraction: .06

  # Passed to plt.errorbar
  color: tab:blue


# --- Tree age ----------------------------------------------------------------
mean_tree_age:
  based_on: mean_tree_age


# --- Snapshots of the spatial grid -------------------------------------------
# ... The forest ..............................................................
forest_snapshot:
  based_on: forest_snapshot
  enabled: false
  time_idx: -1

# ... The forest age ..........................................................
forest_age_snapshot:
  based_on: forest_age_snapshot
  enabled: false
  time_idx: -1

# ... The clusters ............................................................
clusters_snapshot:
  based_on: clusters_snapshot
  enabled: false
  time_idx: -1


# --- Animations of the spatial grid ------------------------------------------
# ... With binary state .......................................................
forest:
  based_on: .ca.state.anim_ffmpeg  # update to *_frames to save frames

  model_name: ForestFire

  # Select the properties to plot
  to_plot:
    kind:
      title: Forest State
      limits: [0, 1]
      cmap: 
        Empty: darkkhaki
        Tree: forestgreen

# ... With age ................................................................
forest_age:
  based_on: .ca.state.anim_ffmpeg

  model_name: ForestFire

  to_plot:
    age:
      title: Tree Age
      limits: [0, 250]
      cmap: YlGn

# ... Clusters ................................................................
clusters:
  based_on: .ca.state.anim_ffmpeg  # update to *_frames to save frames

  # Use the model-specific plot that adds preprocessing for cluster IDs
  module: model_plots.ForestFire.ca
  plot_func: state

  model_name: ForestFire

  to_plot:
    cluster_id:
      title: Clusters
      limits: [0, 20]
      cmap: tab20
      no_cbar_markings: true
