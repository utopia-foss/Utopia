# Base configuration for the Opinionet plots
---
graph:
  based_on: .dag.graph
  dag_options:
    select_path_prefix: data/Opinionet


opinion_animated:
  creator: universe
  universes: all
  module: model_plots.Opinionet
  plot_func: opinion_animated

  helpers:
    set_labels:
        x: User opinion
        y: Group size
  num_bins: 100
  time_idx: # plot one specific time frame
  animation:
    enabled: true
    writer_kwargs:
      frames:
        saving:
          dpi: 300
      ffmpeg:
        init:
          fps: 8
        saving:
          dpi: 300
    animation_update_kwargs:
      stepsize: 10
    writer: ffmpeg
  file_ext: mp4


time_series_opinion:
  creator: universe
  universes: all
  module: model_plots.Opinionet
  plot_func: opinion_time_series
  dag_options:
    select_path_prefix: data/Opinionet

  helpers:
    setup_figure:
      ncols: 2
      sharey: True
      gridspec_kw:
        width_ratios: [3, 1]
        wspace: 0.1

    axis_specific:
      density_development:
        axis: [0, 0]
        set_labels:
          x: time
          y: opinion
      final_histogram:
        axis: [1, 0]
        set_title:
          title: final
        set_labels:
          x: group size

  density_kwargs:
    origin: lower
    aspect: auto
    cmap: bone_r

  hist_kwargs:
    color: mediumseagreen
    orientation: horizontal


sweep:
  creator: multiverse
  module: dantro.plot_creators.ext_funcs.generic
  plot_func: errorbars
